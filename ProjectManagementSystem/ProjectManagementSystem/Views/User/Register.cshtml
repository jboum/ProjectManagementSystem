@{
    Layout = "~/Views/Shared/_Layout.cshtml"; ;
}

<h2>Register</h2>
@using (Html.BeginForm("Register", "User", null, FormMethod.Post, new { @class = "form-horizontal" })) {
    if (ViewBag.ErrorName != null && ViewBag.ErrorName.Equals("RegisterFailed")) {
        foreach (string error in ViewBag.RegisterErrors) {
            <p class="text-danger">@error</p>
        }
    }
    
    <div class="form-group">
        <label for="UserName" class="control-label col-sm-2">Username:</label>
        <div class="col-sm-4">
            <input id="UserName" type="text" class="form-control" name="UserName" />
        </div>
    </div>
    <div class="form-group">
        <label for="Email" class="control-label col-sm-2">Email</label>
        <div class="col-sm-4">
            <input id="Email" type="text" class="form-control" name="Email" />
        </div>
    </div>

    if (ViewBag.ErrorName != null && ViewBag.ErrorName.Equals("PasswordMismatch")) {
        <div class="form-group has-error">
            <label for="Password" class="control-label col-sm-2">Password:</label>
            <div class="col-sm-4">
                <input id="Password" type="password" class="form-control" name="Password" />
            </div>
            <p class="text-danger">The passwords must match.</p>
        </div>
    } else {
        <div class="form-group">
            <label for="Password" class="control-label col-sm-2">Password:</label>
            <div class="col-sm-4">
                <input id="Password" type="password" class="form-control" name="Password" />
            </div>
        </div>
    }
    
    <div class="form-group">
        <label for="ConfirmPassword" class="control-label col-sm-2">Confirm Password:</label>
        <div class="col-sm-4">
            <input id="ConfirmPassword" type="password" class="form-control" name="ConfirmPassword" />
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-1 col-sm-2">
            <button class="form-control" name="Submit" type="submit">Register</button>
        </div>
    </div>
}